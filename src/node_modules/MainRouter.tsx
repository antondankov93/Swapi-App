import React from "react";
import {Route, Switch, useLocation} from 'react-router-dom'
import {animated, config, useTransition} from "react-spring";

import {MainPage} from "pages/main-page/MainPage";
import {WorldPage} from "pages/world-page/WorldPage";
import {UserAccountPage} from "pages/user-account-page/UserAccountPage";
import FilmsContainer from "components/films/FilmsContainer";
import PlanetsContainer from "components/planets/PlanetsContainer";
import StarshipsContainer from "components/starships/StarshipsContainer";
import CharactersContainer from "components/characters/CharactersContainer";
import {ChartsPage} from "pages/charts-page/ChartsPage";
import {QuizPage} from "pages/quiz-page/QuizPage";
import {QuestionContainer} from "components/quiz/quiz-container/QuestionContainer";
import {PlanetsPopulation} from "components/charts/planets-population/PlanetsPopulation";
import {StarshipsComparison} from "components/charts/starships-comparison/StarshipsComparison";
import {YourPlanet} from "components/charts/your-planet/YourPlanet";


export const MainRouter = () => {

    const location = useLocation()
    const transition = useTransition(location, location => location.pathname, {
        from: {opacity: 0, transform: 'translate(100%, 0)'},
        enter: {opacity: 1, transform: 'translate(0%, 0)'},
        leave: {opacity: 0, transform: 'translateY(-100%, 0)'},
        config: config.stiff,
    })

    return (
        <>
            {transition.map(({item, props, key}) => (
                <animated.div key={key} style={props} >
                    <Switch location={item}>
                        <Route path='/' exact render={() => <MainPage/>}/>
                        <Route path='/world' exact render={() => <WorldPage/>}/>
                        <Route path='/charts' exact render={() => <ChartsPage/>}/>
                        <Route path='/charts/population' render={() => <PlanetsPopulation/>}/>
                        <Route path='/charts/starships' render={() => <StarshipsComparison/>}/>
                        <Route path='/charts/your-planet' render={() => <YourPlanet/>}/>
                        <Route path='/quiz' exact render={() => <QuizPage/>}/>
                        <Route path='/quiz/game' render={() => <QuestionContainer/>}/>
                        <Route path='/account' render={() => <UserAccountPage/>}/>
                        <Route path='/world/characters' render={() => <CharactersContainer/>}/>
                        <Route path='/world/films' render={() => <FilmsContainer/>}/>
                        <Route path='/world/planets' render={() => <PlanetsContainer/>}/>
                        <Route path='/world/starships' render={() => <StarshipsContainer/>}/>
                    </Switch>
                </animated.div>
            ))
        }
        </>
    )
}