import { useEffect } from 'react';
import { useSelector, useDispatch } from 'react-redux';
import {allFilmsRequested} from "components/films/flmsActions";
import {PlanetsStateType} from "components/planets/planetsReducer";
import {AppState} from "init/rootReducer";
import {allPlanetsRequested} from "components/planets/planetsActions";


export const usePlanetsFetch = () => {
    const dispatch = useDispatch();
    const { allPlanets, isLoading } = useSelector<AppState, PlanetsStateType>(
        (state) => state.planetsReducer,
    );

    useEffect(() => {
        dispatch(allPlanetsRequested());
    }, [dispatch]);

    return {
        allPlanets,
        isLoading,
    };
};