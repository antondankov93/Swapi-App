import React from "react";
import s from './planets.module.scss'
import {Carousel} from "react-bootstrap";
import cn from "classnames";
import arrData from "components/mockesData";
import {usePlanetsFetch} from "components/planets/hooks/usePlanetsFetch";
import {Loader} from "components/loader/Loader";

export const Planets = () => {
    const {allPlanets, isLoading} = usePlanetsFetch()

    return (
        <div className={s.mainWrapper}>
            { isLoading
                ?
                <Loader/>
                :
                <Carousel>
                {allPlanets.map((p: { name: {} | null | undefined; diameter: React.ReactNode; gravity: React.ReactNode; orbital_period: React.ReactNode; population: React.ReactNode; rotation_period: React.ReactNode; surface_water: React.ReactNode; terrain: React.ReactNode; }) =>
                    <Carousel.Item>
                        <div className={s.mainContent}>
                            <div className={cn(s.characterInfo, s.left)}>
                                <p><span>name:</span> {p.name}</p>
                                <p><span>diameter:</span> {p.diameter}</p>
                                <p><span>gravity:</span> {p.gravity}</p>
                                <p><span>orbital_period:</span> {p.orbital_period}</p>

                            </div>
                            <img
                                className={s.image}
                                src={`https://starwars-visualguide.com/assets/img/planets/${allPlanets.indexOf(p) + 1}.jpg`}
                            />
                            <div className={cn(s.characterInfo, s.right)}>
                                <p><span>population:</span> {p.population}</p>
                                <p><span>rotation_period:</span> {p.rotation_period}</p>
                                <p><span>surface_water:</span> {p.surface_water}</p>
                                <p><span>terrain:</span> {p.terrain}</p>
                            </div>
                            <Carousel.Caption>
                                <h3>{p.name}</h3>
                            </Carousel.Caption>
                        </div>
                    </Carousel.Item>
                )}


            </Carousel>}
        </div>
    )
}