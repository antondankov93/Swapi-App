import React, {useEffect} from "react";
import s from './films.module.scss'
import {Carousel} from "react-bootstrap";
import cn from "classnames";
import {Loader} from "components/loader/Loader";


export const Films = (props: any) => {

    useEffect(() => props.getAllFilms(), [])

    return (
            <div className={s.mainWrapper}>
                {props.isLoading
                    ?
                    <Loader/>
                    :
                <Carousel>
                    {props.filmsList.map((f: { title: React.ReactNode; episode_id: React.ReactNode; producer: React.ReactNode; director: React.ReactNode; release_date: React.ReactNode; name: React.ReactNode; gender: React.ReactNode; }) =>
                        <Carousel.Item>
                            <div className={s.mainContent}>
                                <div className={cn(s.characterInfo, s.left)}>
                                    <p><span>title:</span> {f.title}</p>
                                    <p><span>episode_id:</span> {f.episode_id}</p>
                                    <p><span>producer:</span> {f.producer}</p>

                                </div>
                                <img
                                    className={s.image}
                                    src={`https://starwars-visualguide.com/assets/img/films/${props.filmsList.indexOf(f) + 1}.jpg`}
                                />
                                <div className={cn(s.characterInfo, s.right)}>
                                    <p><span>director:</span> {f.director}</p>
                                    <p><span>release_date:</span> {f.release_date}</p>
                                </div>
                                <Carousel.Caption>
                                    <h3>{`Episode â„–${f.episode_id}: ${f.title}`}</h3>
                                    <p>{f.gender}</p>
                                </Carousel.Caption>
                            </div>
                        </Carousel.Item>
                    )}
                </Carousel>
                }
            </div>

    )
}