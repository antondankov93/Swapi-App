import {useDispatch, useSelector} from 'react-redux';
import {allFilmsRequested} from "components/films/filmsActions";
import {AppState} from "init/rootReducer";
import {FilmsStateType} from "components/films/filmsReducer";


export const useFilmsFetch = () => {
    const dispatch = useDispatch();
    const { allFilms, isLoading } = useSelector<AppState, FilmsStateType>(
        (state) => state.filmsReducer,
    );

    const getAllFilms = () => {
        dispatch(allFilmsRequested())
    }


    return {
        allFilms,
        isLoading,
        getAllFilms,
    };
};