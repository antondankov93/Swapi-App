import {all, takeEvery, fork, call} from 'redux-saga/effects';
import {fetchAllFilmsWorker} from "components/films/saga/workers/fetchAllFilmsWorker";
import {FETCH_ALL_FILMS_REQUEST, FETCH_FILM_BY_ID_REQUESTED} from "components/films/filmsTypes";
import {SagaIterator} from "@redux-saga/types";
import {fetchFilmByIdWorker} from "components/films/saga/workers/fetchFilmByIdWorker";


export function* getAllFilms(): SagaIterator {
    yield takeEvery(FETCH_ALL_FILMS_REQUEST, fetchAllFilmsWorker)
}

export function* getFilmById(): SagaIterator {
    // @ts-ignore
    yield takeEvery(FETCH_FILM_BY_ID_REQUESTED, fetchFilmByIdWorker)
}



//local root saga for export
export function* filmsSaga(): SagaIterator {
    yield all([call(getFilmById), call(getAllFilms)]);
}
