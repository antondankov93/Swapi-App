import {call, put} from 'redux-saga/effects';
import {filmsApi} from "services/axios";
import {putAllFilms} from "components/films/flmsActions";
import {SagaIterator} from "@redux-saga/types";

const fetchAllFilms = () => {
    return filmsApi.getFilmsList()
}

export function* fetchAllFilmsWorker(): SagaIterator {
   const filmsList = yield call(fetchAllFilms)
    yield put(putAllFilms(filmsList))
}