import {useDispatch, useSelector} from "react-redux";
import {AppState} from "init/rootReducer";
import {PlanetsPopulationStateType} from "components/charts/planets-population/reducer";
import {fetchNewPlanetsPageRequest} from "components/charts/planets-population/actions";
import {useEffect} from "react";
import {ShipsComparisonStateType} from "components/charts/starships-comparison/reducer";
import {fetchNewShipsPageRequest} from "components/charts/starships-comparison/actions";

export const useShipsComparison = () => {
    const dispatch = useDispatch()

    const {currentPage, shipsList, isLoading, countAllShips} = useSelector<AppState, ShipsComparisonStateType>(
        state => state.shipsComparisonReducer
    )

    const getNextShipsPage = (pageNumber: number) => {
        dispatch(fetchNewShipsPageRequest(pageNumber))
    }

    return {
        currentPage,
        shipsList,
        isLoading,
        countAllShips,
        getNextShipsPage
    }
}