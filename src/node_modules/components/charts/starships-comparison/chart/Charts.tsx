import React, {useEffect} from "react";
import {Bar, Radar, HorizontalBar} from "react-chartjs-2";
import s from './shipsCharts.module.scss'
import {Tab, Tabs} from "react-bootstrap";
import {useShipsChart} from "components/charts/starships-comparison/hooks/useShipsChart";

export const Charts = () => {
    const {
        chartOptions,
        costChartData,
        lengthChartData,
        passengersChartData,
        getChartOptions,
        costChart,
        lengthChart,
        passengersChart} = useShipsChart()

    useEffect(() => {getChartOptions()}, [])
    useEffect(() => {costChart()}, [])
    useEffect(() => {lengthChart()}, [])
    useEffect(() => {passengersChart()}, [])


    return (
        <div className={s.mainWrapper}>
            <h3>Starships Comparison</h3>
            <Tabs defaultActiveKey="home" transition={false} id="noanim-tab-example">
                <Tab className={s.tabsWrapper} eventKey="population" title="Cost">
                    <section className={s.chartWrapper}>
                        <Bar data={costChartData} options={chartOptions}/>
                    </section>
                </Tab>
                <Tab className={s.tabsWrapper} eventKey="diameter" title="Length">
                    <section className={s.chartWrapper}>
                        <HorizontalBar data={lengthChartData} options={chartOptions}/>
                    </section>
                </Tab>
                <Tab className={s.tabsWrapper} eventKey="rotation" title="Passengers">
                    <section className={s.chartWrapper}>
                        <Bar data={passengersChartData} options={chartOptions}/>
                    </section>
                </Tab>
            </Tabs>

        </div>
    )
}
