import {useDispatch, useSelector} from "react-redux";
import {AppState} from "init/rootReducer";
import {YourPlanetStateType} from "components/charts/your-planet/reducer";
import {
    addCharacterForComparison, deleteAllCharactersForComparison, fetchCharactersDataForComparison,
    fetchNewYourPlanetPageRequest,
    removeCharacterForComparison
} from "components/charts/your-planet/actions";
import {deleteAllShipsForComparison, fetchShipsDataForComparison} from "components/charts/starships-comparison/actions";

export const useYourPlanet = () => {
    const dispatch = useDispatch()

    const {currentPage, charactersList, isLoading, countAllCharacters, charactersForComparison} = useSelector<AppState, YourPlanetStateType>(
        state => state.yourPlanetReducer
    )

    const getNextYourPlanetPage = (pageNumber: number) => {
        dispatch(fetchNewYourPlanetPageRequest(pageNumber))
    }

    const addItemToComparison = (id: number) => {
        dispatch(addCharacterForComparison(id))
    }
    const removeItemToComparison = (id: number) => {
        dispatch(removeCharacterForComparison(id))
    }

    const deleteAllItemsToComparison = () => {
        dispatch(deleteAllCharactersForComparison())
    }
    const startComparison = (planets: any) => {
        dispatch(fetchCharactersDataForComparison(planets))
    }


    return {
        currentPage,
        charactersList,
        isLoading,
        countAllCharacters,
        charactersForComparison,
        getNextYourPlanetPage,
        addItemToComparison,
        removeItemToComparison,
        deleteAllItemsToComparison,
        startComparison
    }
}