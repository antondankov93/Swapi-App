import {call, put} from 'redux-saga/effects'

import {charactersApi} from "services/axios";
import {SagaIterator} from "@redux-saga/types";
import {fetchNewYourPlanetPageSuccess, setYourPlanetForPagination} from "components/charts/your-planet/actions";


const fetchPage = (pageNumber: number) => {
    return charactersApi.getAllCharactersForPagination(pageNumber)
}

export function* yourPlanetWorker(arg: any): SagaIterator {

    const characterPage = yield call(fetchPage, arg.payload)
    yield put(setYourPlanetForPagination(characterPage))

    yield put(fetchNewYourPlanetPageSuccess())

}

