import React, {useEffect} from "react";
import {Bar, Radar} from "react-chartjs-2";
import s from './planetsCharts.module.scss'
import {Tab, Tabs} from "react-bootstrap";
import {usePlanetsChart} from "components/charts/planets-comparison/hooks/usePlanetsChart";

export const Charts = () => {

    const { chartOptions, getChartOptions, rotationPeriodChartData,
        diameterChartData, populationChartData, rotationPeriodChart,
        diameterChart, populationChart} = usePlanetsChart()

    useEffect(() => {getChartOptions()}, [])
    useEffect(() => {populationChart()}, [])
    useEffect(() => {rotationPeriodChart()}, [])
    useEffect(() => {diameterChart()}, [])

    return (
        <div className={s.mainWrapper}>
            <h3>Planets Comparison</h3>
            <Tabs defaultActiveKey="home" transition={false} id="noanim-tab-example">
                <Tab className={s.tabsWrapper} eventKey="population" title="Population">
                    <section className={s.chartWrapper}>
                        <Bar data={populationChartData} options={chartOptions}/>
                    </section>
                </Tab>
                <Tab className={s.tabsWrapper} eventKey="diameter" title="Diameter">
                    <section className={s.chartWrapper}>
                        <Radar data={diameterChartData} options={chartOptions}/>
                    </section>
                </Tab>
                <Tab className={s.tabsWrapper} eventKey="rotation" title="Rotation period">
                    <section className={s.chartWrapper}>
                        <Bar data={rotationPeriodChartData} options={chartOptions}/>
                    </section>
                </Tab>
            </Tabs>

        </div>
    )}