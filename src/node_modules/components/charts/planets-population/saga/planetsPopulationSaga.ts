import {all, call, takeEvery} from 'redux-saga/effects'
import {
    FETCH_DATA_FOR_PLANETS_COMPARISON,
    FETCH_NEW_PLANET_PAGE_REQUEST
} from "components/charts/planets-population/types";
import {planetsPopulationWorker} from "components/charts/planets-population/saga/workers/planetsPopulationWorker";
import {SagaIterator} from "@redux-saga/types";
import {planetsForComparisonWorker} from "components/charts/planets-population/saga/workers/planetsForComparisonWorker";


function* getPageOfPlanets(): SagaIterator{
    // @ts-ignore
    yield takeEvery(FETCH_NEW_PLANET_PAGE_REQUEST, planetsPopulationWorker)
}

function* getPlanetsForComparison(): SagaIterator{
    // @ts-ignore
    yield takeEvery(FETCH_DATA_FOR_PLANETS_COMPARISON, planetsForComparisonWorker)
}




export function* planetsPopulationSaga(): SagaIterator {
    yield all([call(getPageOfPlanets), call(getPlanetsForComparison)])
}