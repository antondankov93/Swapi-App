import {useDispatch, useSelector} from "react-redux";
import {AppState} from "init/rootReducer";
import {PlanetsPopulationStateType} from "components/charts/planets-population/reducer";
import {fetchNewPlanetsPageRequest} from "components/charts/planets-population/actions";
import {useEffect} from "react";

export const usePlanetPopulation = () => {
    const dispatch = useDispatch()

    const {planetsList, isLoading, currentPage, countAllPlanets} = useSelector<AppState, PlanetsPopulationStateType>(
        state => state.planetsPopulationReducer
    )

    const getNextPage = (pageNumber: number) => {
        dispatch(fetchNewPlanetsPageRequest(pageNumber))
    }

    return{
        planetsList,
        currentPage,
        isLoading,
        countAllPlanets,
        getNextPage
    }
}