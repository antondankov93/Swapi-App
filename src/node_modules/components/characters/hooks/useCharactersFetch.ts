import { useEffect } from 'react';
import { useSelector, useDispatch } from 'react-redux';
import {allFilmsRequested} from "components/films/flmsActions";
import {PlanetsStateType} from "components/planets/planetsReducer";
import {AppState} from "init/rootReducer";
import {allPlanetsRequested} from "components/planets/planetsActions";
import {CharactersStateType} from "components/characters/charactersReducer";
import {allCharactersRequested} from "components/characters/charactersActions";


export const useCharactersFetch = () => {
    const dispatch = useDispatch();
    const { allCharacters, isLoading } = useSelector<AppState, CharactersStateType>(
        (state) => state.charactersReducer,
    );

    useEffect(() => {
        dispatch(allCharactersRequested());
    }, [dispatch]);

    return {
        allCharacters,
        isLoading,
    };
};