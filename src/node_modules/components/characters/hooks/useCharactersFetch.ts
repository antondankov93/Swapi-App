import {useDispatch, useSelector} from 'react-redux';
import {filmByIdRequested} from "components/films/filmsActions";
import {AppState} from "init/rootReducer";
import {CharactersStateType} from "components/characters/charactersReducer";
import {allCharactersRequested} from "components/characters/charactersActions";
import {planetByIdRequested} from "components/planets/planetsActions";


export const useCharactersFetch = () => {
    const dispatch = useDispatch();
    const { allCharacters, isLoading } = useSelector<AppState, CharactersStateType>(
        (state) => state.charactersReducer,
    );

    const getAllCharacters = () => {
        dispatch(allCharactersRequested())
    }

    const getFilmById = (id: number) => {
        dispatch(filmByIdRequested(id))
    }

    const getPlanetById = (id:number) => {
        dispatch(planetByIdRequested(id))
    }


    return {
        allCharacters,
        isLoading,
        getAllCharacters,
        getFilmById,
        getPlanetById,
    };
};