import React, {useEffect} from "react";
import s from './starships.module.scss'
import {Carousel} from "react-bootstrap";
import cn from "classnames";
import {Loader} from "components/loader/Loader";

export const Starships = (props: any) => {


    return (
        <div className={s.mainWrapper}>
            {props.isLoading
                ?
                <Loader/>
                :
                <Carousel>
                    {props.starshipsList.map((str: { model: React.ReactNode; length: React.ReactNode; name: {} | null | undefined; passengers: React.ReactNode; cost_in_credits: React.ReactNode; manufacturer: React.ReactNode; starship_class: React.ReactNode; }) =>
                        <Carousel.Item>
                            <div className={s.mainContent}>
                                <div className={cn(s.characterInfo, s.left)}>
                                    <p><span>model:</span> {str.model}</p>
                                    <p><span>length:</span> {str.length}</p>
                                    <p><span>name:</span> {str.name}</p>
                                    <p><span>passengers:</span> {str.passengers}</p>
                                </div>

                                <img
                                    className={s.image}
                                    src={`https://starwars-visualguide.com/assets/img/starships/${props.starshipsList.indexOf(str) + 1}.jpg`}
                                />
                                <div className={cn(s.characterInfo, s.right)}>
                                    <p><span>cost_in_credits:</span> {str.cost_in_credits}</p>
                                    <p><span>manufacturer:</span> {str.manufacturer}</p>
                                    <p><span>starship_class:</span> {str.starship_class}</p>
                                </div>

                                <Carousel.Caption>
                                    <h3>{str.name}</h3>
                                </Carousel.Caption>
                            </div>
                        </Carousel.Item>
                    )}
                </Carousel>
            }
        </div>
    )
}