import React from "react";
import s from './questionContainer.module.scss'
import {useQuize} from "components/quiz/hooks/useQuize";
import {Button} from "react-bootstrap";
import {animated, useSpring} from "react-spring";


export const QuestionContainer = () => {

    const {question, questionCounter, rightAnswers, doneInQuestion, correctAnswer, invokeNewQuestion} = useQuize()
    const checker = (answer: boolean) => {
        if(!doneInQuestion){
            correctAnswer(answer)
        }
    }


    const animation = useSpring({opacity: 1})

    return (
        <div className={s.mainWrapper}>
            <div className={s.counter}>
                {`вопрос ${questionCounter} из 19`}
            </div>
         {/*   <div className={s.counter}>
                {`правильных ответов ${rightAnswers}  done=${doneInQuestion}`}
            </div>*/}

            <h2 className={s.header}>{question.question}</h2>

            <ul className={s.answerList}>
                <li onClick={() => checker(question.answer1?.correct)} className={s.answerListItem}>
                    {question.answer1?.text}
                </li>
                <li onClick={() => checker(question.answer2?.correct)} className={s.answerListItem}>
                    {question.answer2?.text}
                </li>
                <li onClick={() => checker(question.answer3?.correct)} className={s.answerListItem}>
                    {question.answer3?.text}
                </li>
                <li onClick={() => checker(question.answer4?.correct)} className={s.answerListItem}>
                    {question.answer4?.text}
                </li>
            </ul>
            {doneInQuestion && <Button block variant='outline-warning' className={s.button} onClick={invokeNewQuestion}>Next
                question</Button>}
        </div>
    )
}